<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feed</title>
</head>
<body>
  <h1>Your Feed</h1>

  <!-- Navigation Links -->
  <nav>
    <a href="/profile">Go to Profile</a>
  </nav>

  <!-- Form to Create a New Post -->
  <h2>Create a New Post</h2>
  <form action="/api/posts" method="post">
    <textarea name="content" placeholder="Write something..." required></textarea>
    <br>
    <input type="text" name="imageUrl" placeholder="Image URL (optional)">
    <br>
    <button type="submit">Post</button>
  </form>

  <% if (posts.length > 0) { %>
    <% posts.forEach(post => { %>
      <div>
        <h2><%= post.user.username %></h2>
        <p><%= post.content %></p>
        <% if (post.imageUrl) { %>
          <img src="<%= post.imageUrl %>" alt="Post Image">
        <% } %>
        <p>Likes: <%= post._count.likes %> | Comments: <%= post._count.comments %></p>
        <!-- Button to view the post details -->
        <a href="/post/<%= post.id %>">View Post</a>
      </div>
      <hr>
    <% }); %>
  <% } else { %>
    <p>No posts to display.</p>
  <% } %>
</body>
</html>